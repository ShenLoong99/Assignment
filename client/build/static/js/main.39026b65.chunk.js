(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){e.exports=a(65)},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),s=a.n(r),c=(a(41),a(3)),o=a(4),i=a(6),m=a(7),u=a(9),h=a(8),d=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},l.a.createElement(c.b,{to:"/",className:"navbar-brand"},"Manga & Anime API"),l.a.createElement("div",{className:"collpase navbar-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/insert",className:"nav-link"},"Insert new manga")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/search",className:"nav-link"},"Search manga")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/delete",className:"nav-link"},"Delete manga")))))}}]),a}(n.Component),g=a(10),E=a.n(g),p=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:e.manga.posterImg,width:"44px",height:"67px",alt:"poster"})),l.a.createElement("td",null,e.manga.mangaName),l.a.createElement("td",null,e.manga.mangaCreatedAt.substring(0,10)),l.a.createElement("td",null,e.manga.animeGenres),l.a.createElement("td",null,l.a.createElement(c.b,{className:"btn btn-primary",to:"/view/"+e.manga._id},"View")," ",l.a.createElement(c.b,{className:"btn btn-primary",to:"/edit/"+e.manga._id},"Update")))},b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={mangas:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:5000/getAllData").then((function(t){e.setState({mangas:t.data})})).catch((function(e){console.log(e)}))}},{key:"mangaList",value:function(){return this.state.mangas.map((function(e){return l.a.createElement(p,{manga:e})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Manga records in Database"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Poster"),l.a.createElement("th",null,"Manga Name"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Genres"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.mangaList())))}}]),a}(n.Component),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={mangas:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:5000/find?id="+this.props.match.params.id).then((function(t){e.setState({mangas:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.mangas;return l.a.createElement("div",null,e.map((function(e){return l.a.createElement("div",{className:"row",key:"manga.key"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,e.mangaName),l.a.createElement("img",{src:e.posterImg,className:"img-responsive",style:{width:"80%",height:"80%"},alt:"poster"})),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("table",{className:"table table-striped table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Alternate Name"),l.a.createElement("td",null,e.mangaJapName)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created At"),l.a.createElement("td",null,e.mangaCreatedAt)),l.a.createElement("tr",null,l.a.createElement("td",null,"Genres"),l.a.createElement("td",null,e.animeGenres)),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Airing"),l.a.createElement("td",null,String(e.animeAiring))),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Airing Time"),l.a.createElement("td",null,e.animeStartDate)),l.a.createElement("tr",null,l.a.createElement("td",null,"Manga Rating"),l.a.createElement("td",null,e.mangaRating,"/100")),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Episodes"),l.a.createElement("td",null,e.animeEpisodes)),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Score"),l.a.createElement("td",null,e.animeScore,"/10")),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},"Synopsis")),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},e.mangaSynopsis)))),l.a.createElement(c.b,{to:"/edit/"+e._id,className:"btn btn-primary mr-5"},"Update"),l.a.createElement(c.b,{to:"/",className:"btn btn-primary"},"Back to List")))})))}}]),a}(n.Component),f=a(2),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeName=function(e){n.setState({mangaName:e.target.value})},n.onChangePoster=function(e){n.setState({poster:e.target.value})},n.onChangeAlter=function(e){n.setState({alter:e.target.value})},n.onChangeCreated=function(e){n.setState({created:e.target.value})},n.onChangeGenres=function(e){n.setState({genres:e.target.value})},n.onChangeStart=function(e){n.setState({start:e.target.value})},n.onChangeRating=function(e){n.setState({rating:e.target.value})},n.onChangeEpisodes=function(e){n.setState({episodes:e.target.value})},n.onChangeScore=function(e){n.setState({score:e.target.value})},n.onChangeSynopsis=function(e){n.setState({synopsis:e.target.value})},n.onChangeAiring=function(e){n.setState({airing:e.target.value})},n.state={mangas:[],id:"",loading1:!1,mangaName:"",poster:"",alter:"",created:"",genres:"",start:"",score:"",episodes:"",rating:"",synopsis:"",airing:""},n.onChangeName=n.onChangeName.bind(Object(f.a)(n)),n.onChangePoster=n.onChangePoster.bind(Object(f.a)(n)),n.onChangeAlter=n.onChangeAlter.bind(Object(f.a)(n)),n.onChangeCreated=n.onChangeCreated.bind(Object(f.a)(n)),n.onChangeGenres=n.onChangeGenres.bind(Object(f.a)(n)),n.onChangeStart=n.onChangeStart.bind(Object(f.a)(n)),n.onChangeScore=n.onChangeScore.bind(Object(f.a)(n)),n.onChangeEpisodes=n.onChangeEpisodes.bind(Object(f.a)(n)),n.onChangeRating=n.onChangeRating.bind(Object(f.a)(n)),n.onChangeSynopsis=n.onChangeSynopsis.bind(Object(f.a)(n)),n.onChangeAiring=n.onChangeAiring.bind(Object(f.a)(n)),n.onSubmit=n.onSubmit.bind(Object(f.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:5000/find?id="+this.props.match.params.id).then((function(t){e.setState({id:t.data[0]._id,mangaName:t.data[0].mangaName,poster:t.data[0].posterImg,alter:t.data[0].mangaJapName,created:t.data[0].mangaCreatedAt,genres:t.data[0].animeGenres,start:t.data[0].animeStartDate,score:t.data[0].animeScore,episodes:t.data[0].animeEpisodes,rating:t.data[0].mangaRating,synopsis:t.data[0].mangaSynopsis,airing:t.data[0].animeAiring})})).catch((function(e){console.log(e)}))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.match.params.id,a=[],n=[];a[0]=this.state.mangaName,n[0]="mangaName",a[1]=this.state.poster,n[1]="poster",a[2]=this.state.alter,n[2]="alter",a[3]=this.state.created,n[3]="created",a[4]=this.state.genres,n[4]="genres",a[5]=this.state.start,n[5]="start",a[6]=this.state.score,n[6]="score",a[7]=this.state.episodes,n[7]="episodes",a[8]=this.state.rating,n[8]="rating",a[9]=this.state.synopsis,n[9]="synopsis",a[10]=this.state.airing,n[10]="airing";for(var l=0;l<a.length;l++)console.log(n[l]+a[l]),E.a.get("http://localhost:5000/update?id="+t+"&att="+n[l]+"&edit="+a[l]).then((function(e){return console.log(e.data)}));window.location="/view/"+t}},{key:"render",value:function(){this.state.loading1;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"row",key:"manga.key"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:this.onChangeName,value:this.state.mangaName}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",className:"form-control",name:"poster",onChange:this.onChangePoster,value:this.state.poster}),l.a.createElement("br",null),l.a.createElement("img",{src:this.state.poster,className:"img-responsive",style:{width:"80%",height:"80%"},alt:"poster"})),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("table",{className:"table table-striped table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Alternate Name"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",name:"alter-name",onChange:this.onChangeAlter,value:this.state.alter}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Created At"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",name:"createdAt",onChange:this.onChangeCreated,value:this.state.created}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Genres"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",name:"genres",onChange:this.onChangeGenres,value:this.state.genres}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Airing"),l.a.createElement("td",null,l.a.createElement("select",{required:!0,className:"form-control",value:this.state.airing,onChange:this.onChangeAiring},l.a.createElement("option",{key:"false",value:"false"},"False"),l.a.createElement("option",{key:"true",value:"true"},"True")))),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Airing Date"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",name:"start-date",onChange:this.onChangeStart,value:this.state.start}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Manga Rating"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",pattern:"^(?!0?0\\.00$)\\d{1,2}\\.\\d{2}$",maxLength:"5",placeholder:"No < 100, two deci",className:"form-control",name:"rating",onChange:this.onChangeRating,value:this.state.rating}),"/100")),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Episodes"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",pattern:"^[0-9]+$",maxLength:"4",placeholder:"Numbers only",className:"form-control",name:"episodes",onChange:this.onChangeEpisodes,value:this.state.episodes}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Anime Score"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",pattern:"^(10|\\d)(\\.\\d{1,2})?$",maxLength:"4",placeholder:"No < 10, two deci",className:"form-control",name:"score",onChange:this.onChangeScore,value:this.state.score}),"/10")),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},"Synopsis")),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},l.a.createElement("textarea",{className:"form-control",name:"synopsis",rows:"10",cols:"50",onChange:this.onChangeSynopsis,value:this.state.synopsis}))))),l.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary mr-5"}),l.a.createElement(c.b,{to:"/view/"+this.state.id,className:"btn btn-primary"},"Cancel")))))}}]),a}(n.Component),N=a(16),C=a.n(N),k=a(17),S=a(35),O=a(66),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){e.preventDefault(),n.setState({search:e.target.value})},n.state={mangas:[],search:"",loading:!1,loading1:!1},n.search=n.search.bind(Object(f.a)(n)),n.onClick2=n.onClick2.bind(Object(f.a)(n)),n.keyPress=n.keyPress.bind(Object(f.a)(n)),n.search(),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"search",value:function(){var e=this;!0===this.state.loading&&E.a.get("http://localhost:5000/show?title=".concat(this.state.search)).then((function(t){e.setState({mangas:[].concat(Object(S.a)(e.state.mangas),[t.data]),loading:!1}),document.getElementById("error-message").style.display="none"})).catch((function(e){console.log(e)}))}},{key:"insert",value:function(e,t){var a=this;t.preventDefault(),this.state.loading1=!0,!0===this.state.loading1&&E.a.get("http://localhost:5000/add?title=".concat(e)).then((function(e){console.log(e.data),a.setState({loading1:!1})})),this.state.reload=!0,setTimeout((function(){window.location="/"}),5e3)}},{key:"onClick2",value:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.loading=!0,e.next=3,this.search("1");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"keyPress",value:function(e){console.log(this),e.preventDefault(),console.log(e.key),"Enter"===e.key&&(this.onClick2(),console.log("value",e.target.value))}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.state.loading1,n=this.state.mangas;return l.a.createElement("div",null,l.a.createElement("h3",null,"Insert New Manga"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Manga Name: "),l.a.createElement("input",{type:"text",required:!0,className:"form-control",placeholder:"Search for manga",name:"search",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement(O.a,{className:"btn btn-primary",onClick:this.onClick2,onKeyDown:function(t){return e.keyPress(t)}},t?"Searching...":"Search")," ")),l.a.createElement("table",{className:"table",key:"manga.id"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Poster"),l.a.createElement("th",null,"Manga Name"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Genres"),l.a.createElement("th",null,"Actions"))),n.map((function(t){return l.a.createElement("tbody",{key:"manga.key"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:t.posterImg,width:"44px",height:"67px",alt:"poster"})),l.a.createElement("td",null,t.mangaName),l.a.createElement("td",null,t.mangaCreatedAt.substring(0,10)),l.a.createElement("td",null,t.animeGenres),l.a.createElement("td",null,l.a.createElement(O.a,{className:"btn btn-primary",onClick:function(a){return e.insert(t.mangaName,a)}},a?"Inserting...":"Insert"))))}))))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading:!1,reload:!1,mangas:[]},n.deleteAll(),n.deleteOne(),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:5000/getAllData/").then((function(t){e.setState({mangas:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteAll",value:function(){var e,t=this;if(this.state.loading=!0,!0===this.state.loading)for(var a=0;a<this.state.mangas.length;a++)console.log(this.state.mangas[a]._id),e=this.state.mangas[a]._id,E.a.get("http://localhost:5000/delete?id=".concat(e)).then((function(e){console.log(e.data),t.setState({reload:!0})}));!0===this.state.reload&&(window.location="/")}},{key:"deleteOne",value:function(e){var t=this;E.a.get("http://localhost:5000/delete?id=".concat(e)).then((function(e){console.log(e.data),t.setState({reload:!0})})),!0===this.state.reload&&(window.location="/")}},{key:"render",value:function(){var e=this,t=this.state.mangas;return l.a.createElement("div",null,l.a.createElement("div",{className:"row pb-2"},l.a.createElement("h3",{className:"ml-3 "},"Manga records in Database"),l.a.createElement(O.a,{className:"btn btn-primary ml-5",onClick:function(){window.confirm("Are you sure you want to delete all records?")&&e.deleteAll()}},"Delete All")),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Poster"),l.a.createElement("th",null,"Manga Name"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Genres"),l.a.createElement("th",null,"Actions"))),t.map((function(t){return l.a.createElement("tbody",{key:"manga._id"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:t.posterImg,width:"44px",height:"67px",alt:"poster"})),l.a.createElement("td",null,t.mangaName),l.a.createElement("td",null,t.mangaCreatedAt.substring(0,10)),l.a.createElement("td",null,t.animeGenres),l.a.createElement("td",null,l.a.createElement(O.a,{className:"btn btn-primary",onClick:function(a){window.confirm("Are you sure you want to delete this record?")&&e.deleteOne(t._id)}},"Delete"))))}))))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){e.preventDefault(),n.setState({search:e.target.value})},n.state={mangas:[],search:"",loading:!1,loading1:!1},n.search=n.search.bind(Object(f.a)(n)),n.onClick2=n.onClick2.bind(Object(f.a)(n)),n.keyPress=n.keyPress.bind(Object(f.a)(n)),n.search(),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.search()}},{key:"search",value:function(){var e=this;!0===this.state.loading&&E.a.get("http://localhost:5000/find?title=".concat(this.state.search)).then((function(t){e.setState({mangas:t.data,loading:!1}),console.log(e.state.search),document.getElementById("error-message").style.display="none"})).catch((function(e){console.log(e)}))}},{key:"onClick2",value:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.loading=!0,e.next=3,this.search("1");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"keyPress",value:function(e){console.log(this),e.preventDefault(),console.log(e.key),"Enter"===e.key&&(this.onClick2(),console.log("value",e.target.value))}},{key:"render",value:function(){var e=this,t=this.state.loading,a=(this.state.loading1,this.state.mangas);return l.a.createElement("div",null,l.a.createElement("h3",null,"Insert New Manga"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Manga Name: "),l.a.createElement("input",{type:"text",required:!0,className:"form-control",placeholder:"Search for manga, make sure name is exactly the same in database",name:"search",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement(O.a,{className:"btn btn-primary",onClick:this.onClick2,onKeyDown:function(t){return e.keyPress(t)}},t?"Searching...":"Search")," ")),l.a.createElement("table",{className:"table",key:"manga.id"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Poster"),l.a.createElement("th",null,"Manga Name"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Genres"),l.a.createElement("th",null,"Actions"))),a.map((function(e){return l.a.createElement("tbody",{key:"manga.key"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:e.posterImg,width:"44px",height:"67px",alt:"poster"})),l.a.createElement("td",null,e.mangaName),l.a.createElement("td",null,e.mangaCreatedAt),l.a.createElement("td",null,e.animeGenres),l.a.createElement("td",null,l.a.createElement(c.b,{className:"btn btn-primary",to:"/view/"+e._id},"View"))))}))))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},l.a.createElement(c.b,{to:"/",className:"navbar-brand"},"Manga & Anime API"),l.a.createElement("div",{className:"collpase navbar-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/insert",className:"nav-link"},"Insert new manga")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/search",className:"nav-link"},"Search manga")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(c.b,{to:"/delete",className:"nav-link"},"Delete manga")))),l.a.createElement("div",{className:"text-white"},"Created by Si Kai"))}}]),a}(n.Component);var D=function(){return l.a.createElement(c.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(d,null),l.a.createElement("br",null),l.a.createElement(o.a,{path:"/",exact:!0,component:b}),l.a.createElement(o.a,{path:"/view/:id",component:v}),l.a.createElement(o.a,{path:"/edit/:id",component:y}),l.a.createElement(o.a,{path:"/insert",component:j}),l.a.createElement(o.a,{path:"/search",component:w}),l.a.createElement(o.a,{path:"/delete",component:A}),l.a.createElement("br",null),l.a.createElement(x,null)))};s.a.render(l.a.createElement(D,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.39026b65.chunk.js.map